<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Career Assessment Quiz - Student Career Guidance Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
    <style>
    .quiz-container {
      background: #fff;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .progress-bar {
      height: 6px;
      background: #e9ecef;
      border-radius: 4px;
      margin-bottom: 15px;
      overflow: hidden;
    }
    .progress {
      height: 100%;
      background: #28a745;
      width: 0%;
      transition: width 0.3s ease;
    }
    h3 {
      margin: 10px 0 20px;
      font-size: 18px;
    }
    .options label {
      display: block;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .options input {
      display: none;
    }
    .options label:hover {
      background: #f1f1f1;
    }
    .options input:checked + label {
      border: 2px solid #28a745;
      background: #eafbea;
    }
    .buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    .prev {
      background: #e9ecef;
      color: #333;
    }
    .next {
      background: linear-gradient(90deg, #28a745, #20c997);
      color: white;
    }
    .prev:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .result-box {
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      color: #155724;
      padding: 20px;
      background: #eafbea;
      border: 2px solid #28a745;
      border-radius: 10px;
      display: none;
    }
  </style>
</head>
<body>
    <header class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="index.html">EduSpark
            <span style="color: #464f5c; font-family: sans-serif; font-weight: 100; font-size: 18px;">From confusion to clarity</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link active" href="quiz.html">Quiz</a></li>
                    <li class="nav-item"><a class="nav-link" href="explore.html">Explore Colleges</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                </ul>
            </div>
        </div>
    </header>
  <div class="quiz-container">
    <div class="progress-bar"><div class="progress"></div></div>
    <h3 id="question-text"></h3>
    
    <div class="options" id="options-container"></div>

    <div class="buttons">
      <button class="prev" disabled>Previous</button>
      <button class="next">Next</button>
    </div>

    <div class="result-box" id="result"></div>
  </div>

<script>
  // Questions & Options (shortened text for clarity)
  const quizData = [
    {q: "What kind of tasks do you enjoy the most?", o:["Solving math problems","Drawing/painting","Helping others","Leading a team"]},
    {q: "Which school subject do you like most?", o:["Science","Arts","Social Science","Business Studies"]},
    {q: "What would you rather do in free time?", o:["Watch documentaries","Write stories","Volunteer","Sell online"]},
    {q: "If you join a project, you would prefer:", o:["Handle technical work","Create design","Organize people","Market the idea"]},
    {q: "What environment do you enjoy?", o:["Lab/Research","Creative studio","Hospital/NGO","Corporate office"]},
    {q: "Are you good at handling numbers?", o:["Yes","Somewhat","Not really","Prefer practical work"]},
    {q: "How well do you communicate?", o:["Prefer writing","Great speaker","Show through actions","Prefer listening"]},
    {q: "Can you stay calm under pressure?", o:["Yes","Sometimes","I get anxious","I avoid it"]},
    {q: "Which skill best describes you?", o:["Analytical thinking","Creativity","Empathy","Leadership"]},
    {q: "Are you comfortable with new tech?", o:["Very comfortable","Somewhat","Not really","If user-friendly"]},
    {q: "Do you prefer working alone or group?", o:["Alone","Small group","Large teams","Either is fine"]},
    {q: "Which quality do you admire most?", o:["Intelligence","Creativity","Kindness","Ambition"]},
    {q: "Do you follow or question rules?", o:["Follow rules","Follow but question","Often question","Create my own rules"]},
    {q: "How do you make decisions?", o:["Logic","Feelings","Othersâ€™ needs","Impact & outcome"]},
    {q: "What motivates you most?", o:["Learning","Expressing myself","Making difference","Success/Recognition"]},
    {q: "Would you prefer a job that is:", o:["Stable","Creative","Meaningful","High-paying"]},
    {q: "Which profession attracts you?", o:["Engineer/Scientist","Artist/Writer","Teacher/Doctor","Entrepreneur/Manager"]},
    {q: "Work long hours if fulfilling?", o:["Yes","Maybe","No","Only if well-paid"]},
    {q: "How do you feel about higher studies?", o:["Masters/PhD","Practical exp","Short courses","Start earning soon"]},
    {q: "Which appeals to you the most?", o:["Innovation","Art","Caring for others","Making profits"]},
    {q: "How important is work-life balance?", o:["Very important","Somewhat","Not important","Hustle culture"]},
    {q: "Do you want to work in:", o:["MNC","Startup","Govt/NGO","Own business"]},
    {q: "What kind of impact do you want?", o:["Solve global problems","Influence culture","Help communities","Build wealth"]},
    {q: "Which best describes your dream job?", o:["Researcher/Engineer","Designer/Artist","Doctor/Teacher","CEO/Banker"]},
    {q: "How do you feel about public speaking?", o:["Love it","Okay","Avoid it","Prefer writing"]},
    {q: "Which activity do you enjoy most?", o:["Puzzles","Designing","Leading discussions","Working with numbers"]},
    {q: "How do you prefer to learn?", o:["Reading","Visuals","Listening","Hands-on"]},
    {q: "Which subject are you confident in?", o:["Maths","Art/Music","Languages","History"]},
    {q: "How do you approach new problem?", o:["Analyze logically","Think creatively","Ask others","Use past exp"]},
    {q: "Which task do you enjoy most?", o:["Calculations","Writing","Planning events","Exploring science"]}
  ];

  let current = 0;
  const progress = document.querySelector(".progress");
  const questionText = document.getElementById("question-text");
  const optionsContainer = document.getElementById("options-container");
  const prevBtn = document.querySelector(".prev");
  const nextBtn = document.querySelector(".next");
  const resultBox = document.getElementById("result");

  // Store answers
  let answers = [];

  function loadQuestion() {
    let qData = quizData[current];
    questionText.innerHTML = `Question ${current+1} of ${quizData.length}<br>${qData.q}`;
    optionsContainer.innerHTML = "";
    qData.o.forEach((opt, i) => {
      const id = `q${current}_${i}`;
      optionsContainer.innerHTML += `
        <input type="radio" id="${id}" name="q${current}" value="${i}">
        <label for="${id}">${opt}</label>
      `;
    });

    // restore previous answer if any
    if (answers[current] !== undefined) {
      document.getElementById(`q${current}_${answers[current]}`).checked = true;
    }

    progress.style.width = `${((current+1)/quizData.length)*100}%`;
    prevBtn.disabled = current === 0;
    nextBtn.innerText = current === quizData.length-1 ? "Finish" : "Next";
  }

  nextBtn.addEventListener("click", () => {
    console.log("Next button clicked. Current question:", current);
    // Save answer
    const selected = document.querySelector(`input[name="q${current}"]:checked`);
    if (!selected) {
      alert("Please select an option before continuing.");
      return;
    }
    console.log("Selected answer:", selected.value);
    answers[current] = parseInt(selected.value);

    if (current < quizData.length-1){
      current++;
      loadQuestion();
    } else {
      showResult();
    }
  });

  prevBtn.addEventListener("click", () => {
    console.log("Previous button clicked. Current question:", current);
    if(current > 0){
      current--;
      loadQuestion();
    }
  });

function showResult() {
    // count choices
    let scores = {A:0,B:0,C:0,D:0};
    answers.forEach(ans => {
      if(ans===0) scores.A++;
      if(ans===1) scores.B++;
      if(ans===2) scores.C++;
      if(ans===3) scores.D++;
    });

    // find max
    let best = Object.keys(scores).reduce((a,b)=> scores[a] > scores[b] ? a : b);

    let career = "";
    let careerParam = "";
    if(best==="A") {
      career="Technical / Science / Engineering";
      careerParam = "engineering";
    }
    if(best==="B") {
      career="Arts / Creative Careers";
      careerParam = "arts";
    }
    if(best==="C") {
      career="Medical / Social / Sports Careers";
      careerParam = "medical";
    }
    if(best==="D") {
      career="Commerce / Business / Management";
      careerParam = "commerce";
    }

    document.querySelector(".buttons").style.display="none";
    optionsContainer.style.display="none";
    questionText.style.display="none";
    progress.style.width="100%";
    resultBox.style.display="block";
    resultBox.innerHTML = `ðŸŽ¯ Based on your answers, your best career path is: <br><br> <span style="font-size:22px;color:#28a745">${career}</span>`;
    
    // Add Visit Colleges button
    const visitBtn = document.createElement("button");
    visitBtn.textContent = "Visit Colleges";
    visitBtn.style.marginTop = "20px";
    visitBtn.style.display = "block";
    visitBtn.className = "next"; // reuse next button style
    visitBtn.onclick = () => {
      window.location.href = `explore.html?career=${careerParam}`;
    };
    resultBox.appendChild(visitBtn);
  }

  loadQuestion();
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
